{"version":3,"sources":["fluid.js"],"names":["fluid","screens","externalScreens","includedThemes","themes","midnight","name","icon","type","isColorTheme","tome","colors","background","text","lightText","secText","elements","elementText","elementHover","switchHead","inputColor","navbar","sidebar","sidebarActive","sidenav","sidenavActive","cards","content","theme","themeText","highlight","acrylic","mediumAcrylic","lightAcrylic","backgroundTint","themeSelectorColor","config","defaultTheme","themeLock","allowBackgroundImages","allowedThemes","strings","SYSTEM","LIGHT","DARK","BACKGROUND_IMAGE","USE_BACKGROUND_IMAGE","IMAGE_URL","FILE_UPLOADED","UPLOAD_IMAGE","REMOVE_FILE","window","matchMedia","addListener","e","document","documentElement","dataset","addEventListener","key","startsWith","set","newValue","onresize","event","innerWidth","localStorage","getItem","$","addClass","removeClass","onhashchange","screensEnabled","screenID","param","getURLScreen","loadScreen","dispatchEvent","CustomEvent","detail","location","hash","defaultScreen","split","slice","join","decodeURI","JSON","parse","requestedTheme","temporary","themeType","currentTheme","undefined","matches","append","themeVars","Object","keys","forEach","color","html","remove","imageURL","themeImage","style","setProperty","removeProperty","setItem","show","val","removeItem","hide","requestedImage","prop","getComputedStyle","getPropertyValue","currentImage","match","isDataImage","attr","get","trigger","String","hasClass","console","error","applyConfig","fluidConfig","assign","id","onLoad","navigator","userAgent","includes","alert","ready","init","generateOverlay","i","length","hasThemeImage","filter","map","click","toggleClass","change","on","file","this","files","reader","FileReader","result","readAsDataURL","group","parent","parents","find","siblings","children","blur","shouldSwitch","setTimeout","screen","requestedID","ctx","stringify","pathname","endsWith","history","replaceState","getScript","prepend","appendTo","target","close","exitAlert","noBlur","css","clientWidth","unblur","splash","element","unsplash","title","body","actions","action","checkReady","requestAnimationFrame","tcoh","link","querySelector","createElement","rel","href","getElementsByTagName","appendChild","allowedKeys","38","40","119","120","37","39","66","65","darkOverride","darkOverridePosition","imageOverride","imageOverridePosition","konamiCode","konamiCodePos","keyCode","preventDefault"],"mappings":"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","sourcesContent":["/**\r\n * @file Fluid UI JavaScript Modules\r\n * @author jottocraft\r\n * @version v5.0.0-dep\r\n * \r\n * @copyright Made by jottocraft 2017-2021. All code in this repository is in the public domain (https://github.com/jottocraft/fluid-old/blob/master/LICENSE).\r\n * @license unlicense\r\n */\r\n\r\n/**\r\n * Global Fluid UI object.\r\n * All global Fluid UI functions and variables are stored in this object.\r\n * \r\n * @global\r\n * @namespace fluid\r\n * @property {object} screens Fluid UI screens object containing functions for local screens and URLs for external screens\r\n * @property {object} externalScreens Contains all of the functions for external screens, which are added to this object as needed\r\n * @property {string[]} includedThemes The list of color theme IDs included in this version of Fluid UI. This should NOT be changed for custom themes.\r\n * @property {Object.<string, Theme>} themes Contains all of the color theme objects\r\n * @property {FluidConfig} config Fluid UI configuration variables\r\n */\r\nvar fluid = {\r\n    screens: {},\r\n    externalScreens: {},\r\n    includedThemes: [\"midnight\", \"tome\"],\r\n    themes: {\r\n        /**\r\n        * @typedef {object} Theme\r\n        * @description Color theme objects\r\n        * @property {string} name Theme display name\r\n        * @property {string} icon Theme icon\r\n        * @property {'light'|'dark'} type Theme type. Must be \"light\" if the theme uses dark text on a light background or \"dark\" if the theme uses light text on a dark background.\r\n        * @property {ThemeColors} [colors] Contains all of the theme colors. This can be omitted if there is CSS for the theme.\r\n        * @property {boolean} [isColorTheme=false] True if this theme is a color theme, false if the theme is black/white/gray.\r\n        */\r\n        /**\r\n        * @typedef {object} ThemeColors\r\n        * @description An object containing colors for a Fluid UI theme. Each key in the object corresponds exactly to the name of the CSS variable that it sets.\r\n        * @property {string} background Page background color\r\n        * @property {string} text Primary text color\r\n        * @property {string} lightText Color used for slightly less important text (somewhere between text and secText)\r\n        * @property {string} secText Secondary text color \r\n        * @property {string} elements Color used for clickable elements (e.g. buttons, switches, etc.)\r\n        * @property {string} elementText Text color for clickable elements\r\n        * @property {string} elementHover Clickable elements hover color\r\n        * @property {string} switchHead Switch head color\r\n        * @property {string} inputColor Color for input elements (like text boxes)\r\n        * @property {string} navbar Navigation bar color\r\n        * @property {string} sidebar Sidebar background\r\n        * @property {string} sidebarActive Selected sidebar item background\r\n        * @property {string} sidenav Sidenav background\r\n        * @property {string} sidenavActive Selected sidenav item background\r\n        * @property {string} cards Cards color\r\n        * @property {string} content Background used for code blocks and the theme selector. Presented with lightShadow. Somewhere between background and inputColor.\r\n        * @property {string} theme Color used for active items (like enabled switches). This may be overridden (on all themes) to match the site's brand colors.  \r\n        * @property {string} themeText Text color used on top of the \"theme\" color\r\n        * @property {string} [themeSelectorColor] Text color used when showing this theme in the theme selector in black/white themes. Optional, and should only be used for color themes.\r\n        */\r\n        midnight: {\r\n            name: \"Midnight\",\r\n            icon: \"brightness_3\",\r\n            type: \"dark\",\r\n            isColorTheme: false\r\n            //The midnight theme's colors are defined in CSS\r\n        },\r\n        tome: {\r\n            name: \"Tome\",\r\n            icon: \"bookmark_border\",\r\n            type: \"dark\",\r\n            isColorTheme: true,\r\n            colors: {\r\n                background: \"#18161d\",\r\n\r\n                text: \"#efefef\",\r\n                lightText: \"#8e82a2\",\r\n                secText: \"#6a6179\",\r\n\r\n                elements: \"#322e3c\",\r\n                elementText: \"#ffffff\",\r\n                elementHover: \"#403a50\",\r\n                switchHead: \"#cccccc\",\r\n\r\n                inputColor: \"#2d2935\",\r\n\r\n                navbar: \"#211e29\",\r\n                sidebar: \"#1f1c26\",\r\n                sidebarActive: \"#2c2736\",\r\n                sidenav: \"#26232d\",\r\n                sidenavActive: \"#2a2631\",\r\n\r\n                cards: \"#232029\",\r\n                content: \"#1e1b25\",\r\n\r\n                theme: \"#5c3e7b\",\r\n                themeText: \"#f8f0ff\",\r\n\r\n                highlight: \"#ffffff12\",\r\n                acrylic: \"#282333cc\",\r\n                mediumAcrylic: \"#28233380\",\r\n                lightAcrylic: \"#28233366\",\r\n                backgroundTint: \"#18161de6\",\r\n\r\n                themeSelectorColor: \"#7c68b1\"\r\n            }\r\n        }\r\n    },\r\n    /**\r\n    * @typedef {object} FluidConfig\r\n    * @description Contains customization options\r\n    * @property {string} [defaultTheme=system] The theme ID to use by default\r\n    * @proeprty {boolean} [themeLock=false] Prevents the user from using a theme other than the default\r\n    * @property {boolean} [allowBackgroundImages=true] Allows the user to set a background image theme\r\n    * @property {boolean|string[]} [allowedThemes=true] Either an array of themeIDs to allow, or true to allow all themes. Light, dark, and system are always allowed.\r\n    */\r\n    config: { //These configuration settings affects how built-in UI elements behave. Users can bypass these restrictions using the web inspector.\r\n        defaultTheme: \"system\", //The theme ID to use by default\r\n        themeLock: false, //Prevents the user from using a theme other than the default\r\n        allowBackgroundImages: true, //Allow the user to set background images.\r\n        allowedThemes: true //An array of theme IDs to allow, or true to allow all themes. Ignored if allowThemeMenu is false. Dark, light, and auto are always allowed.\r\n    },\r\n    /**\r\n    * @typedef {object} strings\r\n    * @description An object containing all of the strings (or functions if the text is adaptive) for text displayed in the UI. This is provided so that websites can override the text in Fluid UI.\r\n    */\r\n    strings: {\r\n        SYSTEM: \"System\",\r\n        LIGHT: \"Light\",\r\n        DARK: \"Dark\",\r\n        BACKGROUND_IMAGE: \"Background Image\",\r\n        USE_BACKGROUND_IMAGE: \"Use a background image\",\r\n        IMAGE_URL: \"Image URL\",\r\n        FILE_UPLOADED: \"File uploaded\",\r\n        UPLOAD_IMAGE: \"Upload image\",\r\n        REMOVE_FILE: \"Remove file\"\r\n    }\r\n};\r\n\r\n/**\r\n * Global Fluid UI configuration object.\r\n * All Fluid UI features, as configured by the site developer, are passed to Fluid UI through this object.\r\n * This object must be defined globally, before Fluid UI is loaded, for it to take effect.\r\n * \r\n * @global\r\n * @namespace fluidConfig\r\n * @property {FluidConfig} config Fluid UI configuration options. This will be merged with the defaults, so only options that differ from the default need to be provided.\r\n * @property {Object.<string, Theme>} themes Custom themes to add to Fluid UI.\r\n */\r\n\r\n//Listen for system theme change\r\nwindow.matchMedia(\"(prefers-color-scheme: dark)\").addListener(function (e) {\r\n    if (document.documentElement.dataset.theme == \"system\") {\r\n        fluid.theme(\"system\", true);\r\n    }\r\n});\r\n\r\n//Listen for theme or preference changes\r\nwindow.addEventListener('storage', function (e) {\r\n    if (e.key.startsWith(\"pref-\")) {\r\n        fluid.set(e.key, e.newValue, true)\r\n    }\r\n    if (e.key == \"fluidTheme\") {\r\n        fluid.theme(e.newValue, true)\r\n    }\r\n});\r\n\r\n//Listen for window resize\r\nwindow.onresize = function (event) {\r\n    if (window.innerWidth <= 900) {\r\n        $(\"body\").addClass(\"collapsedSidebar\");\r\n    } else {\r\n        if (window.localStorage.getItem(\"fluidSidebarCollapsed\") == \"true\") {\r\n            $(\"body\").addClass(\"collapsedSidebar\");\r\n        } else {\r\n            $(\"body\").removeClass(\"collapsedSidebar\");\r\n        }\r\n    }\r\n};\r\n\r\n//Listen for screen change\r\nwindow.onhashchange = function () {\r\n    if (fluid.screensEnabled) {\r\n        //get url screen\r\n        var { screenID, param } = fluid.getURLScreen();\r\n\r\n        //Load screen from hash\r\n        fluid.loadScreen(screenID, param);\r\n\r\n        //Broadcast screen change\r\n        document.dispatchEvent(new CustomEvent('fluidScreen', { detail: screenID }));\r\n    }\r\n}\r\n\r\n/**\r\n * Gets the current screen from the URL parameter\r\n * \r\n * @returns {object} The screenID and parameter from the URL\r\n */\r\nfluid.getURLScreen = function () {\r\n    var screenID = null, param = null;\r\n\r\n    if (document.location.hash == \"#/\") {\r\n        screenID = fluid.defaultScreen;\r\n    } else if (document.location.hash.startsWith(\"#/\")) {\r\n        screenID = document.location.hash.split(\"/\")[1];\r\n        param = document.location.hash.split(\"/\").slice(2).join(\"/\");\r\n    }\r\n\r\n    if (param) {\r\n        param = decodeURI(param);\r\n        if (param && param.startsWith(\"{\")) try { param = JSON.parse(param); } catch (e) { }\r\n    }\r\n\r\n    return { screenID, param };\r\n}\r\n\r\n/**\r\n * Applies a theme, stores the preference, and updates the theme selection UI\r\n * \r\n * @param {string} requestedTheme The ID of the theme to apply\r\n * @param {boolean} [temporary=false] If the theme is only being applied temporarily. When true, the theme will be applied, but the preference will not be saved.\r\n */\r\nfluid.theme = function (requestedTheme, temporary) {\r\n    //Check for theme lock config\r\n    if (fluid.config.themeLock && (requestedTheme !== fluid.config.defaultTheme)) return;\r\n\r\n    // TOGGLE THEME SHORTCUT\r\n    if (requestedTheme == \"toggle\") {\r\n        if (document.documentElement.dataset.themeType == \"dark\") {\r\n            return fluid.theme(\"light\");\r\n        } else {\r\n            return fluid.theme(\"dark\");\r\n        }\r\n    }\r\n\r\n    // GET CURRENT THEME -----------------------\r\n    var currentTheme = null;\r\n\r\n    if (document.documentElement.dataset.theme == \"system\") {\r\n        currentTheme = document.documentElement.dataset.themeType;\r\n    } else {\r\n        currentTheme = document.documentElement.dataset.theme;\r\n    }\r\n\r\n    if (requestedTheme == undefined) return currentTheme;\r\n    // -----------------------------------------\r\n\r\n    // APPLY REQUESTED THEME -------------------\r\n    if (requestedTheme && !requestedTheme.startsWith(\"image.\")) {\r\n        //Set theme vars\r\n        if ((requestedTheme == \"light\") || (requestedTheme == \"dark\")) {\r\n            document.documentElement.dataset.theme = requestedTheme;\r\n            document.documentElement.dataset.themeType = requestedTheme;\r\n        } else if (requestedTheme == \"system\") {\r\n            //Use system theme\r\n            document.documentElement.dataset.theme = \"system\";\r\n            if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\r\n                document.documentElement.dataset.themeType = \"dark\";\r\n            } else {\r\n                document.documentElement.dataset.themeType = \"light\";\r\n            }\r\n        } else if (fluid.themes[requestedTheme]) {\r\n            document.documentElement.dataset.theme = requestedTheme;\r\n            document.documentElement.dataset.themeType = fluid.themes[requestedTheme].type;\r\n        }\r\n\r\n        //Set color theme vars for JavaScript themes\r\n        if (fluid.themes[requestedTheme] && fluid.themes[requestedTheme].colors) {\r\n            if (!$(\"style#fluidTheme\")[0]) $(\"head\").append(`<style id=\"fluidTheme\"></style>`);\r\n\r\n            var themeVars = \"\";\r\n            Object.keys(fluid.themes[requestedTheme].colors).forEach(color => {\r\n                themeVars += `--${color}: ${fluid.themes[requestedTheme].colors[color]};`\r\n            });\r\n            $(\"style#fluidTheme\").html(`[data-theme=${requestedTheme}][data-theme-type=${fluid.themes[requestedTheme].type}] { ${themeVars} }`);\r\n        } else {\r\n            $(\"style#fluidTheme\").remove();\r\n        }\r\n    }\r\n\r\n    //Apply theme image\r\n    if (requestedTheme.startsWith(\"image.\")) {\r\n        var imageURL = requestedTheme.split(\"image.\")[1];\r\n\r\n        if (imageURL) {\r\n            document.documentElement.dataset.themeImage = imageURL;\r\n            document.documentElement.style.setProperty(\"--themeImage\", \"url('\" + imageURL + \"')\");\r\n        } else {\r\n            document.documentElement.style.removeProperty(\"--themeImage\");\r\n            delete document.documentElement.dataset.themeImage;\r\n        }\r\n    }\r\n    // -----------------------------------------\r\n\r\n    // SAVE THEME PREF AND UPDATE UI -------------------\r\n    if (requestedTheme && requestedTheme.startsWith(\"image.\")) {\r\n        if (requestedTheme !== \"image.\") {\r\n            if (temporary !== true) {\r\n                localStorage.setItem(\"fluidThemeImageURL\", document.documentElement.dataset.themeImage);\r\n                localStorage.setItem(\"fluidThemeImage\", true);\r\n            }\r\n\r\n            //Update UI\r\n            $(\"#themeMenu #fluidThemeImage\").addClass(\"active\");\r\n            $(\"#themeMenu #fluidThemeImageInput\").show();\r\n            $(\"#themeMenu #fluidThemeImageInput input\").val(document.documentElement.dataset.themeImage);\r\n        } else {\r\n            if (temporary !== true) localStorage.removeItem(\"fluidThemeImage\");\r\n\r\n            //Update UI\r\n            $(\"#themeMenu #fluidThemeImage\").removeClass(\"active\");\r\n            $(\"#themeMenu #fluidThemeImageInput\").hide();\r\n            $(\"#themeMenu #fluidThemeImageInput input\").val(\"\");\r\n        }\r\n    } else if (requestedTheme) {\r\n        if (temporary !== true) {\r\n            localStorage.setItem(\"fluidTheme\", requestedTheme);\r\n        }\r\n\r\n        //Update UI\r\n        $(\".themeOptions .themeSelection\").removeClass(\"active\");\r\n        $(\".themeOptions .themeSelection.\" + requestedTheme).addClass(\"active\");\r\n\r\n        //Legacy themeSelector\r\n        $(\".btns.themeSelector .btn\").removeClass(\"active\");\r\n        $(\".btns.themeSelector .btn[data-theme=\" + requestedTheme + \"]\").addClass(\"active\");\r\n\r\n        if (fluid.themes[requestedTheme] && fluid.themes[requestedTheme].isColorTheme) {\r\n            $(\".themeOptions\").addClass(\"noSelectorColors\");\r\n        } else {\r\n            $(\".themeOptions\").removeClass(\"noSelectorColors\");\r\n        }\r\n    }\r\n    // -----------------------------------------\r\n\r\n    // OTHER THEME THINGS ----------------------\r\n    if ((requestedTheme !== currentTheme) && (currentTheme !== null)) {\r\n        //emit theme change event if the theme has changed\r\n        document.dispatchEvent(new CustomEvent('fluidTheme', { detail: requestedTheme }))\r\n    }\r\n    // -----------------------------------------\r\n\r\n}\r\n\r\n/**\r\n * Applies a theme, stores the preference, and updates the theme selection UI\r\n * \r\n * @param {string|boolean} requestedImage The URL of the image to apply. If false, the theme image will be disabled.\r\n * @param {boolean} [temporary=false] If the image is only being applied temporarily. When true, the theme will be applied, but the preference will not be saved.\r\n */\r\nfluid.themeImage = function (requestedImage, temporary) {\r\n    //Check for theme image config\r\n    if (!fluid.config.allowBackgroundImages && requestedImage) return;\r\n\r\n    // GET CURRENT THEME -----------------------\r\n    var prop = getComputedStyle(document.documentElement).getPropertyValue('--themeImage');\r\n    var currentImage = prop && prop.match(/(?<=^url\\((\"|'))(.*)(?=(\"|')\\)$)/)[0];\r\n    if (requestedImage == undefined) return currentImage;\r\n    // -----------------------------------------\r\n\r\n    //Apply theme image\r\n    var isDataImage = requestedImage && requestedImage.startsWith(\"data:image/\");\r\n    if (requestedImage) {\r\n        if (!$(\"#fluidImageCSS\")[0]) $(\"head\").append('<style id=\"fluidImageCSS\"></style>');\r\n        $(\"#fluidImageCSS\").html(`:root { --themeImage:url(\"${requestedImage}\"); }`);\r\n        document.documentElement.dataset.themeImage = \"\";\r\n    } else {\r\n        $(\"#fluidImageCSS\").remove();\r\n        delete document.documentElement.dataset.themeImage;\r\n    }\r\n    // -----------------------------------------\r\n\r\n    // SAVE THEME PREF AND UPDATE UI -------------------\r\n    if (requestedImage) {\r\n        if (temporary !== true) {\r\n            localStorage.setItem(\"fluidThemeImageURL\", requestedImage);\r\n            localStorage.setItem(\"fluidThemeImage\", true);\r\n        }\r\n\r\n        //Update UI\r\n        $(\"#fluidThemeImage\").addClass(\"active\");\r\n        $(\"#fluidThemeImageInput\").show();\r\n\r\n        if (isDataImage) {\r\n            $(\"#fluidImageURL\").val(fluid.strings.FILE_UPLOADED);\r\n            $(\"#fluidThemeImageInput i.inputIcon\").html(\"insert_drive_file\");\r\n            $(\"#fluidImageURL\").attr(\"disabled\", true);\r\n\r\n            $(\"#fluidImageFileRemove\").show();\r\n            $(\"#fluidImageFileAdd\").hide();\r\n        } else {\r\n            $(\"#fluidThemeImageInput input\").val(requestedImage);\r\n            $(\"#fluidThemeImageInput i.inputIcon\").html(\"link\");\r\n            $(\"#fluidImageURL\").attr(\"disabled\", false);\r\n\r\n            $(\"#fluidImageFileRemove\").hide();\r\n            $(\"#fluidImageFileAdd\").show();\r\n        }\r\n    } else {\r\n        if (temporary !== true) localStorage.removeItem(\"fluidThemeImage\");\r\n\r\n        //Update UI\r\n        $(\"#fluidThemeImage\").removeClass(\"active\");\r\n        $(\"#fluidThemeImageInput\").hide();\r\n\r\n        $(\"#fluidThemeImageInput input\").val(\"\");\r\n        $(\"#fluidThemeImageInput i.inputIcon\").html(\"link\");\r\n        $(\"#fluidImageURL\").attr(\"disabled\", false);\r\n\r\n        $(\"#fluidImageFileRemove\").hide();\r\n        $(\"#fluidImageFileAdd\").show();\r\n    }\r\n    // -----------------------------------------\r\n\r\n    // OTHER THEME THINGS ----------------------\r\n    if (requestedImage !== currentImage) {\r\n        //emit theme change event if the theme has changed\r\n        document.dispatchEvent(new CustomEvent('fluidThemeImage', { detail: requestedImage }));\r\n    }\r\n    // -----------------------------------------\r\n}\r\n\r\n/**\r\n * Gets a Fluid UI preference\r\n * \r\n * @param {string} key The name of the preference to get \r\n */\r\nfluid.get = function (key) {\r\n    return window.localStorage.getItem(key);\r\n}\r\n\r\n/**\r\n * Sets a Fluid UI preference\r\n * \r\n * @param {string} key The name of the preference to set\r\n * @param {string} val The value of the preference to set \r\n * @param {'load'} [trigger] This is \"load\" if setting the preference during initial page load \r\n */\r\nfluid.set = function (key, val, trigger) {\r\n    if (key.startsWith(\"pref-\")) {\r\n        if ((String(val) == \"true\") || (String(val) == \"false\") || (val == undefined)) {\r\n            //boolean value\r\n            if (val == undefined) {\r\n                if (fluid.get(key) !== null) {\r\n                    //toggle boolean value\r\n                    if (fluid.get(key) == \"true\") { val = false; } else { val = true; }\r\n                } else {\r\n                    //no value to toggle, get value from switch activity\r\n                    val = !$(\".\" + key).hasClass(\"active\");\r\n                }\r\n            }\r\n            if (String(val) == \"true\") {\r\n                $(\".switch.\" + key + \", .btn.\" + key + \", .checkbox.\" + key).addClass(\"active\");\r\n            } else {\r\n                $(\".switch.\" + key + \", .btn.\" + key + \", .checkbox.\" + key).removeClass(\"active\");\r\n            }\r\n        } else {\r\n            //value pref\r\n            $(\".btns.\" + key + \" .btn, .radio.\" + key + \" .checkbox\").removeClass(\"active\")\r\n            $(\".btns.\" + key + \" .btn.\" + val + \", .radio.\" + key + \" .checkbox.\" + val).addClass(\"active\")\r\n        }\r\n        if (trigger == undefined) window.localStorage.setItem(key, val);\r\n        if (trigger !== \"load\") {\r\n            document.dispatchEvent(new CustomEvent(key, { detail: val }));\r\n        }\r\n    } else {\r\n        console.error(\"Error: Calling fluid.set with invalid prefrence name. Make sure the name of your prefrence starts with 'pref-'. See https://fluid-old.jottocraft.com/#input-prefs.\")\r\n    }\r\n}\r\n\r\n/**\r\n * Applies the fluidConfig configuration parameters, if provided. Ran automatically from fluid.onLoad, but can be called manually after if needed.\r\n * If ran multiple times, each fluidConfig acts as a patch over the previous.\r\n */\r\nfluid.applyConfig = function () {\r\n    //Apply fluid config\r\n    if (window.fluidConfig) {\r\n        //Apply fluid config from fluidConfig if provided\r\n        if (fluidConfig.config) {\r\n            Object.assign(fluid.config, fluidConfig.config);\r\n        }\r\n\r\n        //Add themes from config if provided\r\n        if (fluidConfig.themes) {\r\n            Object.keys(fluidConfig.themes).forEach(id => {\r\n                //Filter out reserved theme names\r\n                if ((id == \"dark\") || (id == \"light\") || (id == \"auto\") || (id == \"system\")) return;\r\n\r\n                if (fluid.themes[id]) {\r\n                    fluid.themes[id] = Object.assign(fluid.themes[id], fluidConfig.themes[id]);\r\n                } else {\r\n                    fluid.themes[id] = fluidConfig.themes[id];\r\n                }\r\n            });\r\n        }\r\n\r\n        //Apply string overrides from fluidConfig if provided\r\n        if (fluidConfig.strings) {\r\n            Object.assign(fluid.strings, fluidConfig.strings);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Loads Fluid UI JavaScript features for initial page load.\r\n * This should only run once. fluid.init should be used instead for initializing new elements page.\r\n */\r\nfluid.onLoad = function () {\r\n    //NOTE: fluid.onLoad should ONLY be loaded on the initial page load. Use fluid.init to initialize elements added after page load.\r\n\r\n    //Apply configuration\r\n    fluid.applyConfig();\r\n\r\n    //Unsupported browser alert\r\n    if (window.navigator.userAgent.includes('MSIE ') || window.navigator.userAgent.includes('Trident/')) {\r\n        alert(\"Internet Explorer is not supported. Please upgrade to a modern browser like Microsoft Edge or Google Chrome.\")\r\n        throw \"[Fluid UI] Error: Unsupported browser\";\r\n    }\r\n\r\n    //load initial fluid ui theme\r\n    if (window.localStorage.getItem(\"fluidTheme\") !== null) {\r\n        fluid.theme(window.localStorage.getItem(\"fluidTheme\"), true);\r\n    } else if (fluid.config.defaultTheme) {\r\n        fluid.theme(fluid.config.defaultTheme, true);\r\n    } else {\r\n        fluid.theme(\"system\", true);\r\n    }\r\n\r\n    //load initial theme image\r\n    if (window.localStorage.getItem(\"fluidThemeImage\") == \"true\") {\r\n        if (window.localStorage.getItem(\"fluidThemeImageURL\")) {\r\n            fluid.themeImage(window.localStorage.getItem(\"fluidThemeImageURL\"), true);\r\n        } else {\r\n            window.localStorage.removeItem(\"fluidThemeImage\");\r\n        }\r\n    }\r\n\r\n    //initialize elements when document is ready\r\n    $(document).ready(() => fluid.init());\r\n}\r\n\r\n/**\r\n * Used to initialize new elements added to the document\r\n */\r\nfluid.init = function () {\r\n    //generate overlay\r\n    fluid.generateOverlay();\r\n\r\n    //Load initial prefrences\r\n    for (var i = 0; i < Object.keys(window.localStorage).length; i++) {\r\n        if (Object.keys(window.localStorage)[i].startsWith(\"pref-\")) {\r\n            fluid.set(Object.keys(window.localStorage)[i], window.localStorage.getItem(Object.keys(window.localStorage)[i]), \"load\");\r\n        }\r\n    }\r\n\r\n    //Legacy theme selector\r\n    $(\".btns.row.themeSelector\").html(`\r\n      <button onclick=\"fluid.theme('system')\" data-theme=\"system\" class=\"btn ${fluid.currentTheme == \"system\" ? 'active' : \"\"}\"><div class=\"lightDarkSplit\"></div><div class=\"themeName\"><i class=\"fluid-icon\">computer</i> ${fluid.strings.SYSTEM}</div></button>\r\n      <button onclick=\"fluid.theme('light')\" data-theme=\"light\" data-theme-type=\"light\" class=\"btn ${document.documentElement.dataset.theme == \"light\" ? 'active' : \"\"}\"><div class=\"themeName\"><i class=\"fluid-icon\">light_mode</i> ${fluid.strings.LIGHT}</div></button>\r\n      <button onclick=\"fluid.theme('dark')\" data-theme=\"dark\" data-theme-type=\"dark\" class=\"btn ${document.documentElement.dataset.theme == \"dark\" ? 'active' : \"\"}\"><div class=\"themeName\"><i class=\"fluid-icon\">dark_mode</i> ${fluid.strings.DARK}</div></button>\r\n    `);\r\n\r\n    //New theme selection UI\r\n    var hasThemeImage = window.localStorage.getItem(\"fluidThemeImage\") == \"true\";\r\n    $(\".themeSelectionUI\").html(/*html*/`\r\n      <div class=\"themeOptions ${fluid.themes[document.documentElement.dataset.theme] && fluid.themes[document.documentElement.dataset.theme].isColorTheme ? \"noSelectorColors\" : \"\"}\">\r\n        <div onclick=\"fluid.theme('system')\" style=\"--themeSelectorColor: none;\" class=\"themeSelection system ${document.documentElement.dataset.theme == \"system\" ? \"active\" : \"\"}\"><i class=\"fluid-icon\">computer</i> <span>${fluid.strings.SYSTEM}</span></div>\r\n        <div onclick=\"fluid.theme('light')\" data-theme=\"light\" data-theme-type=\"light\" class=\"themeSelection light ${document.documentElement.dataset.theme == \"light\" ? \"active\" : \"\"}\"><i class=\"fluid-icon\">light_mode</i> <span>${fluid.strings.LIGHT}</span></div>\r\n        <div onclick=\"fluid.theme('dark')\" data-theme=\"dark\" data-theme-type=\"dark\" class=\"themeSelection dark ${document.documentElement.dataset.theme == \"dark\" ? \"active\" : \"\"}\"><i class=\"fluid-icon\">dark_mode</i> <span>${fluid.strings.DARK}</span></div>\r\n        <div class=\"divider\"></div>\r\n        ${Object.keys(fluid.themes).filter(id => fluid.config.allowedThemes.includes ? fluid.config.allowedThemes.includes(id) : true).map(id => {\r\n        var theme = fluid.themes[id];\r\n        return `<div onclick=\"fluid.theme('${id}')\" ${theme.colors ? `style=\"--themeSelectorColor: ${theme.colors.themeSelectorColor || \"none\"};\"` : `data-theme=\"${id}\" data-theme-type=\"${theme.type}\"`} class=\"themeSelection ${id} ${document.documentElement.dataset.theme == id ? \"active\" : \"\"}\"><i class=\"fluid-icon\">${theme.icon}</i> <span>${theme.name}</span></div>`\r\n    }).join(\"\")}\r\n      </div>\r\n      <div class=\"themeCustomization\">\r\n        <h5><i class=\"fluid-icon\">wallpaper</i> <span>${fluid.strings.BACKGROUND_IMAGE}</span></h5>\r\n        <div style=\"margin-bottom: 20px;\">\r\n            <div id=\"fluidThemeImage\" init=\"true\" class=\"switch ${hasThemeImage ? \"active\" : \"\"}\"><span class=\"head\"></span></div>\r\n            <div class=\"label\">${fluid.strings.USE_BACKGROUND_IMAGE}</div>\r\n        </div>\r\n        <div id=\"fluidThemeImageInput\" ${!hasThemeImage ? `style=\"display: none;\"` : ``}>\r\n            ${window.localStorage.getItem(\"fluidThemeImageURL\") && window.localStorage.getItem(\"fluidThemeImageURL\").startsWith(\"data:image/\") ? `\r\n                <i class=\"inputIcon fluid-icon\">insert_drive_file</i>\r\n                <input id=\"fluidImageURL\" value=\"${fluid.strings.FILE_UPLOADED}\" disabled style=\"margin-bottom: 10px;\" class=\"inputIcon\" placeholder=\"${fluid.strings.IMAGE_URL}\" />\r\n                <button id=\"fluidImageFileRemove\" class=\"btn small\"><i class=\"fluid-icon\">remove_circle_outline</i> ${fluid.strings.REMOVE_FILE}</button>\r\n                <button id=\"fluidImageFileAdd\" style=\"display: none;\" class=\"btn small\"><i class=\"fluid-icon\">file_upload</i> ${fluid.strings.UPLOAD_IMAGE}</button>\r\n            ` : `\r\n                <i class=\"inputIcon fluid-icon\">link</i>\r\n                <input id=\"fluidImageURL\" value=\"${window.localStorage.getItem(\"fluidThemeImageURL\") || \"\"}\" style=\"margin-bottom: 10px;\" class=\"inputIcon\" placeholder=\"${fluid.strings.IMAGE_URL}\" />\r\n                <button id=\"fluidImageFileRemove\" style=\"display: none;\" class=\"btn small\"><i class=\"fluid-icon\">remove_circle_outline</i> ${fluid.strings.REMOVE_FILE}</button>\r\n                <button id=\"fluidImageFileAdd\" class=\"btn small\"><i class=\"fluid-icon\">file_upload</i> ${fluid.strings.UPLOAD_IMAGE}</button>\r\n            `}\r\n\r\n            <input id=\"fluidImageFile\" type=\"file\" accept=\"image/*\" style=\"display: none;\">\r\n        </div>\r\n      </div>\r\n    `);\r\n\r\n    $(\"#fluidImageFileAdd\").click(() => $(\"#fluidImageFile\").click());\r\n    $(\"#fluidImageFileRemove\").click(() => {\r\n        localStorage.removeItem(\"fluidThemeImageURL\");\r\n        fluid.themeImage(false);\r\n    });\r\n\r\n    $(\".switch#fluidThemeImage\").click(e => {\r\n        $(\".switch#fluidThemeImage\").toggleClass(\"active\");\r\n\r\n        if ($(\".switch#fluidThemeImage\").hasClass(\"active\")) {\r\n            if (window.localStorage.getItem(\"fluidThemeImageURL\")) {\r\n                fluid.themeImage(window.localStorage.getItem(\"fluidThemeImageURL\"));\r\n            } else {\r\n                $(\"#fluidThemeImageInput\").show();\r\n            }\r\n        } else {\r\n            fluid.themeImage(false);\r\n        }\r\n    });\r\n\r\n    $(\"#fluidImageURL\").change(e => {\r\n        var val = $(\"#fluidImageURL\").val();\r\n        if (val) {\r\n            fluid.themeImage(val);\r\n        } else {\r\n            window.localStorage.removeItem(\"fluidThemeImageURL\");\r\n            fluid.themeImage(false);\r\n        }\r\n    });\r\n\r\n    $(\"#fluidImageFile\").on(\"change\", function () {\r\n        var file = this.files[0];\r\n        var reader = new FileReader();\r\n\r\n        reader.addEventListener(\"load\", function () {\r\n            fluid.themeImage(reader.result);\r\n        }, false);\r\n        reader.readAsDataURL(file);\r\n    });\r\n\r\n    //Sidebar collapsed\r\n    if (window.localStorage.getItem(\"fluidSidebarCollapsed\") == \"true\") {\r\n        $(\"body\").addClass(\"collapsedSidebar\");\r\n    }\r\n\r\n    //Sidebar group collapsed state\r\n    for (var i = 0; i < $(\".sidebar .group\").length; i++) {\r\n        var group = $($(\".sidebar .group\")[i]);\r\n        if (group.attr(\"id\") && window.localStorage.getItem(\"fluidSidebar-\" + group.attr(\"id\"))) {\r\n            //Sidebar collapsed state pref\r\n            if (window.localStorage.getItem(\"fluidSidebar-\" + group.attr(\"id\")) == \"open\") {\r\n                group.addClass(\"open\");\r\n            } else if (window.localStorage.getItem(\"fluidSidebar-\" + group.attr(\"id\")) == \"closed\") {\r\n                group.removeClass(\"open\");\r\n            }\r\n        }\r\n    }\r\n\r\n    $(\".btns:not(.themeSelector) .btn:not(.manual):not([init='true']), .list.select .item:not(.manual):not([init='true']), .sidenav .item:not(.manual):not([init='true']), .sidebar .item:not(.group .name):not(.manual):not(.footer):not([init='true']), .radio .checkbox:not([init='true'])\").click(function (event) {\r\n        if (!($(this).parent().attr(\"class\") || \"\").includes(\"pref-\") && !($(this).parents(\".radio\").attr(\"class\") || \"\").includes(\"pref-\")) {\r\n            //not a pref\r\n            if ($(this).parent().hasClass(\"multiple\")) {\r\n                //Multiple selection mode\r\n                $(this).toggleClass(\"active\")\r\n            } else if ($(this).parents(\".sidebar\").length) {\r\n                //Sidebar\r\n                $(this).parents(\".sidebar\").find(\".item:not(.group .name)\").removeClass(\"active\");\r\n                $(this).addClass(\"active\");\r\n            } else if ($(this).parents(\".radio\").length) {\r\n                //radio button\r\n                $(this).parent().siblings().children(\".checkbox\").removeClass(\"active\")\r\n                $(this).addClass(\"active\")\r\n            } else {\r\n                $(this).siblings().removeClass(\"active\")\r\n                $(this).addClass(\"active\")\r\n            }\r\n        }\r\n        $(this).attr(\"init\", \"true\")\r\n    });\r\n\r\n    $(\".sidebar .group .name:not([init='true'])\").click(function () {\r\n        $(this).parent().toggleClass(\"open\");\r\n\r\n        if ($(this).parent().attr(\"id\")) {\r\n            if ($(this).parent().hasClass(\"open\")) {\r\n                window.localStorage.setItem(\"fluidSidebar-\" + $(this).parent().attr(\"id\"), \"open\");\r\n            } else {\r\n                window.localStorage.setItem(\"fluidSidebar-\" + $(this).parent().attr(\"id\"), \"closed\");\r\n            }\r\n        }\r\n\r\n        $(this).attr(\"init\", \"true\");\r\n    })\r\n\r\n    $(\".navbar .profile:not([init='true'])\").click(function () {\r\n        if ($(\".card.profileMenu\").length) {\r\n            fluid.generateOverlay();\r\n            $(\".card.profileMenu\").show();\r\n            fluid.blur(true);\r\n        }\r\n        $(this).attr(\"init\", \"true\");\r\n    })\r\n\r\n    $(\".sidebar .collapse:not([init='true'])\").click(function () {\r\n        $('body').toggleClass('collapsedSidebar');\r\n        if ($('body').hasClass('collapsedSidebar')) {\r\n            window.localStorage.setItem(\"fluidSidebarCollapsed\", \"true\");\r\n        } else {\r\n            window.localStorage.setItem(\"fluidSidebarCollapsed\", \"false\");\r\n        }\r\n        $(this).attr(\"init\", \"true\");\r\n    })\r\n\r\n    fluid.shouldSwitch = true;\r\n    $(\".switch:not([init='true']), .checkbox:not([init='true'])\").click(function (event) {\r\n        if (!$(this).parents(\".radio\")[0]) {\r\n            //not a radio button\r\n            if (fluid.shouldSwitch && !$(this).attr(\"class\").includes(\"pref-\")) {\r\n                //not a pref\r\n                $(this).toggleClass(\"active\");\r\n                fluid.shouldSwitch = false;\r\n                setTimeout(() => fluid.shouldSwitch = true, 400)\r\n            }\r\n            $(this).attr(\"init\", \"true\")\r\n        }\r\n    });\r\n\r\n    $(\"div.nav.active li:not([init='true'])\").click(function (event) {\r\n        $(this).siblings().removeClass(\"active\")\r\n        $(this).addClass(\"active\")\r\n        $(this).attr(\"init\", \"true\")\r\n    });\r\n\r\n    $(\".section.collapse .header:not([init='true'])\").click(function (event) {\r\n        if ($(this).parent().hasClass(\"collapsed\")) {\r\n            if ($(this).parent().hasClass(\"one\")) {\r\n                $(this).parent().siblings().addClass(\"collapsed\");\r\n            }\r\n        }\r\n        $(this).parent().toggleClass(\"collapsed\");\r\n        $(this).attr(\"init\", \"true\")\r\n    });\r\n}\r\n\r\n/**\r\n * Updates the current screen state and loads a new screen\r\n * \r\n * @param {string} [requestedID] The ID of the screen to load\r\n * @param {string|object} [ctx] The context passed to the screen\r\n */\r\nfluid.screen = function (requestedID, ctx) {\r\n    //mark screens as enabled for back button listener\r\n    fluid.screensEnabled = true;\r\n\r\n    //update screen\r\n    if (fluid.screens[requestedID]) {\r\n        var hash = null;\r\n\r\n        if (requestedID == fluid.defaultScreen ? ctx : true) {\r\n            hash = \"#/\" + requestedID + (ctx ? \"/\" + (typeof ctx == \"object\" ? JSON.stringify(ctx) : ctx) : \"\");\r\n        } else {\r\n            hash = \"#/\";\r\n        }\r\n\r\n        if (decodeURI(document.location.hash) == hash) {\r\n            //Load screen directly if the hash is already set\r\n            fluid.loadScreen(requestedID, ctx);\r\n        } else {\r\n            //Change the hash which will automatically trigger a screen load\r\n            if (!window.location.pathname.endsWith(\"/\")) history.replaceState({}, '', window.location.pathname + \"/\");\r\n            document.location.hash = hash;\r\n        }\r\n    } else if (!requestedID) {\r\n        //Reload existing screen or default screen if no ID is provided\r\n        var { screenID, param } = fluid.getURLScreen();\r\n        if (screenID) {\r\n            fluid.screen(screenID, param);\r\n        } else {\r\n            fluid.screen(fluid.defaultScreen, ctx);\r\n        }\r\n    } else {\r\n        //screen not found\r\n        console.error(\"[FLUID UI] fluid.screen was called, but no screen could be found. Make sure you have defined the screen you are trying to navigate to or the default screen.\");\r\n    }\r\n}\r\n\r\n/**\r\n * Loads a screen. This should not be called directly (see fluid.screen instead).\r\n * \r\n * @param {string} screenID The ID of the screen to load\r\n * @param {string|object} [ctx] The context parameter passed to the screen\r\n */\r\nfluid.loadScreen = function (screenID, ctx) {\r\n    if (typeof fluid.screens[screenID] == \"string\") {\r\n        //external screen\r\n        if (fluid.externalScreens[screenID]) {\r\n            //external screen already loaded\r\n            fluid.externalScreens[screenID](ctx);\r\n        } else {\r\n            //external screen not yet loaded\r\n            $.getScript(fluid.screens[screenID], () => {\r\n                if (fluid.externalScreens[screenID]) {\r\n                    fluid.externalScreens[screenID](ctx);\r\n                } else {\r\n                    console.error(\"[FLUID UI] Error: The scriptURL for screen '\" + screenID + \"' does not define fluid.externalScreens['\" + screenID + \"']\");\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        fluid.screens[screenID](ctx);\r\n    }\r\n}\r\n\r\n/**\r\n * Generates the blur overlay used when a card is opened.\r\n * This should not be called directly.\r\n */\r\nfluid.generateOverlay = function () {\r\n    if (!$(\"#fluidUIOverlay\").length) {\r\n        $(\"body\").prepend(`<div class=\"hidden\" id=\"fluidUIOverlay\"></div>`);\r\n        $(\".card.focus\").appendTo(\"#fluidUIOverlay\");\r\n        $(\"#fluidUIOverlay\").append(\"<div id='themeMenu' class='focus card close' style='height: 100%;'></div>\");\r\n\r\n        $(\"#fluidUIOverlay\").click(function (e) {\r\n            if (e.target !== this) return;\r\n            fluid.cards.close();\r\n            fluid.exitAlert();\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Shows the page blur effect.\r\n * This should not be called directly.\r\n * \r\n * @param {boolean} [noBlur=false] If this is true, the blur container will be shown without the blur effect\r\n */\r\nfluid.blur = function (noBlur) {\r\n    function getScrollbarWidth() {\r\n        return window.innerWidth - document.documentElement.clientWidth;\r\n    }\r\n\r\n    if ($(\"#fluidUIOverlay\").hasClass(\"hidden\")) {\r\n        $(\"body\").css(\"--scrollbarWidth\", getScrollbarWidth() + \"px\");\r\n    }\r\n\r\n    if (noBlur) {\r\n        $(\"body\").removeClass(\"disableOverflow\");\r\n        $(\"#fluidUIOverlay\").removeClass(\"noBlur\").removeClass(\"hidden\").addClass(\"visible\").addClass(\"noBlur\");\r\n    } else {\r\n        $(\"body\").addClass(\"disableOverflow\");\r\n        $(\"#fluidUIOverlay\").removeClass(\"noBlur\").removeClass(\"hidden\").addClass(\"visible\");\r\n    }\r\n}\r\n\r\n/**\r\n * Removes the blur effect.\r\n * This should not be called directly.\r\n */\r\nfluid.unblur = function () {\r\n    if (!$(\"#fluidUIOverlay\").hasClass(\"hidden\") && $(\"#fluidUIOverlay\").hasClass(\"visible\")) {\r\n        $(\"#fluidUIOverlay\").removeClass(\"visible\");\r\n        $(\"body\").removeClass(\"disableOverflow\");\r\n\r\n        setTimeout(function () {\r\n            if (!$(\"#fluidUIOverlay\").hasClass(\"visible\")) $(\"#fluidUIOverlay\").addClass(\"hidden\");\r\n        }, 200)\r\n    }\r\n}\r\n\r\n/**\r\n * Shows a splash screen\r\n * \r\n * @param {Element|string} element The element to show\r\n */\r\nfluid.splash = function (element) {\r\n    $(\"body\").addClass(\"disableOverflow\");\r\n    $(element).show();\r\n}\r\n\r\n/**\r\n * Hides all splash screens\r\n */\r\nfluid.unsplash = function () {\r\n    $(\".splashScreen\").hide();\r\n    $(\"body\").removeClass(\"disableOverflow\");\r\n}\r\n\r\n/**\r\n * Shows a card\r\n * \r\n * @param {Element|string} element The card element to show\r\n */\r\nfluid.cards = function (element) {\r\n    fluid.generateOverlay();\r\n    $(\".card.focus:not(.close)\").addClass(\"close\");\r\n    $(\".card.profileMenu\").hide();\r\n    fluid.blur();\r\n    $(element).addClass('container');\r\n    $(element).removeClass('close');\r\n}\r\n\r\n/**\r\n * Closes the current card\r\n */\r\nfluid.cards.close = function () {\r\n    $(\".card.focus:not(.close)\").addClass('close');\r\n    fluid.unblur();\r\n    $('.card.focus').removeClass(\"blur\");\r\n    $(\".card.profileMenu\").hide();\r\n}\r\n\r\n/**\r\n* @typedef {object} AlertAction\r\n* @description Sets the actions for an alert\r\n* @property {string} icon Action icon\r\n* @property {string} name Action name\r\n* @property {function} action The function to run when the action is clicked\r\n*/\r\n\r\n/**\r\n * Shows a Fluid UI alert.\r\n * If only one parameter is provided (e.g. fluid.alert('Test alert')), a generic alert will be shown\r\n * \r\n * @param {string} title The alert title \r\n * @param {string} body Alert body HTML\r\n * @param {string} [icon] Alert icon\r\n * @param {AlertAction[]} [actions] Alert actions\r\n * @param {string} [color] The icon color \r\n */\r\nfluid.alert = function (title, body, icon, actions, color) {\r\n    if (title && !body) {\r\n        body = title;\r\n        title = \"Alert\";\r\n        icon = \"notifications\";\r\n    }\r\n\r\n    if (!color && (icon == \"check\")) color = \"#3ba842\";\r\n    if (!color && (icon == \"error\")) color = \"#a83b3b\";\r\n    if (!color && (icon == \"warning\")) color = \"#d1a045\";\r\n    if (!color && (icon == \"info\")) color = \"#459ed1\";\r\n\r\n    //Generate overlay\r\n    fluid.generateOverlay();\r\n\r\n    $(\"#activeAlert\").remove();\r\n    $(\"#fluidUIOverlay\").append(`<div id=\"activeAlert\" class=\"card alert\">\r\n<i class=\"fluid-icon close\" onclick=\"fluid.exitAlert()\">close</i>\r\n\r\n ${icon ? `<i style=\"color: ` + (color ? color : \"var(--text)\") + `\" class=\"fluid-icon\">${icon}</i>` : \"\"}\r\n <h5>${title}</h5>\r\n <div class=\"body\">\r\n  <div>${body}</div>\r\n </div>\r\n ` + (actions ? `<div class=\"footer\">` + actions.map((action, key) => {\r\n        return `<button class=\"btn ${key}\">\r\n   ` + (action.icon ? `<i class=\"fluid-icon\">` + action.icon + `</i> ` : \"\") + action.name + `\r\n   </button>`\r\n    }).join(\"\") + `</div>` : \"\") + `\r\n</div>`);\r\n\r\n    //Add onclick listeners\r\n    if (actions) {\r\n        actions.forEach((action, key) => {\r\n            $(\"#activeAlert .footer .btn.\" + key).click(() => {\r\n                if (action.action) action.action();\r\n                fluid.exitAlert();\r\n            })\r\n        });\r\n    }\r\n\r\n    fluid.blur();\r\n    $('.card.focus:not(.close)').addClass(\"blur\");\r\n}\r\n\r\n/**\r\n * Closes the active alert\r\n */\r\nfluid.exitAlert = function () {\r\n    $(\"#activeAlert\").remove();\r\n    if (!$('.card.focus:not(.close)').length) fluid.unblur();\r\n    $('.card.focus').removeClass(\"blur\");\r\n};\r\n\r\n//Load Fluid UI\r\n(function checkReady() {\r\n    if (document.body) return fluid.onLoad();\r\n    window.requestAnimationFrame(checkReady);\r\n})();\r\n\r\nfluid.tcoh = function () {\r\n    fluid.theme(\"light\", true);\r\n    $(\"body\").addClass(\"pizzapizza\");\r\n    $('img').attr('src', 'https://i.imgur.com/uhZT30E.png');\r\n    var link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\r\n    link.type = 'image/png';\r\n    link.rel = 'shortcut icon';\r\n    link.href = 'https://i.imgur.com/uhZT30E.png';\r\n    document.getElementsByTagName('head')[0].appendChild(link);\r\n    document.title = \"LITTLE CESERS HOT N READY FOR ONLY FIVE DOLALARS EXTRA MOST BESTEST IS ONLY SIX FOR EXTRA CHEESE AND PEPERONI AND THE NATIONS BEST PRICE\"\r\n}\r\n\r\n//Fluid UI commands\r\nvar allowedKeys = {\r\n    38: 'up',\r\n    40: 'down',\r\n    119: 'f8',\r\n    120: 'f9',\r\n    37: 'left',\r\n    39: 'right',\r\n    66: 'b',\r\n    65: 'a'\r\n};\r\nvar darkOverride = ['up', 'up', 'down', 'down', 'f8'];\r\nvar darkOverridePosition = 0;\r\nvar imageOverride = ['up', 'up', 'down', 'down', 'f9'];\r\nvar imageOverridePosition = 0;\r\nvar konamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'b', 'a'];\r\nvar konamiCodePos = 0;\r\ndocument.addEventListener('keydown', function (e) {\r\n    var key = allowedKeys[e.keyCode];\r\n    var requiredKey = darkOverride[darkOverridePosition];\r\n    if (key == requiredKey) {\r\n        darkOverridePosition++;\r\n        if (darkOverridePosition == darkOverride.length) {\r\n            fluid.theme(\"toggle\");\r\n            darkOverridePosition = 0;\r\n            e.preventDefault();\r\n        }\r\n    } else {\r\n        darkOverridePosition = 0;\r\n    }\r\n\r\n    var requiredKey = imageOverride[imageOverridePosition];\r\n    if (key == requiredKey) {\r\n        imageOverridePosition++;\r\n        if (imageOverridePosition == imageOverride.length) {\r\n            if (window.localStorage.getItem(\"fluidThemeImageURL\") && !document.documentElement.dataset.themeImage) {\r\n                fluid.theme(\"image.\" + window.localStorage.getItem(\"fluidThemeImageURL\"));\r\n            } else {\r\n                fluid.theme(\"image.\");\r\n            }\r\n            imageOverridePosition = 0;\r\n            e.preventDefault();\r\n        }\r\n    } else {\r\n        imageOverridePosition = 0;\r\n    }\r\n\r\n    var requiredKey = konamiCode[konamiCodePos];\r\n    if (key == requiredKey) {\r\n        konamiCodePos++;\r\n        if (konamiCodePos == konamiCode.length) {\r\n            fluid.tcoh();\r\n            konamiCodePos = 0;\r\n            e.preventDefault();\r\n        }\r\n    } else {\r\n        konamiCodePos = 0;\r\n    }\r\n});"]}